SELECT gafas.*, proveedor.nombre AS nombre_proveedor, ventas.fecha AS fecha_compra FROM optica.clientes JOIN optica.ventas ON clientes.id = ventas.clientes_id JOIN optica.gafas ON ventas.gafas_id = gafas.id JOIN optica.proveedor ON gafas.proveedor_id = proveedor.id WHERE clientes.nombre = "Pedro";
SELECT empleados.nombre AS nombre_empleado, gafas.*, proveedor.nombre AS nombre_proveedor, ventas.fecha AS fecha_venta FROM optica.empleados JOIN optica.ventas ON empleados.id = ventas.empleados_id JOIN optica.gafas ON ventas.gafas_id = gafas.id JOIN optica.proveedor ON gafas.proveedor_id = proveedor.id WHERE empleados.id = 1 AND YEAR(ventas.fecha) = 2023;
SELECT DISTINCT proveedor.* FROM optica.proveedor JOIN optica.gafas ON proveedor.id = gafas.proveedor_id JOIN optica.ventas ON gafas.id = ventas.gafas_id WHERE ventas.fecha IS NOT NULL;